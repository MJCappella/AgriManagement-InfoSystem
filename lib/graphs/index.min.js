/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/node-svg2img@1.1.0/index.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";var url=require("url"),atob=require("atob"),fabric=require("fabric").fabric;function svg2img(e,r,i){void 0===i&&(i=r,r={});var t,a=new fabric.Canvas,n=!1;function o(e,t){var n=r.width||t.width,o=r.height||t.height,f=r.format||"png";if(n&&o){a.setWidth(n),a.setHeight(o);var l=a.getContext("2d"),u=t.width?n/t.width:1,d=t.height?o/t.height:1;l.scale(u,d);var c=fabric.util.groupSVGElements(e,t);a.add(c),a.renderAll();var s,h=[];(s="png"===f?a.createPNGStream():a.CreateJPEGStream()).on("data",(function(e){h.push(e)})),s.on("end",(function(){i(null,Buffer.concat(h))})),s.on("error",(function(e){i(e,null)}))}else i(new Error("Cannot obtain width/height of input."),null)}if(Buffer.isBuffer(e))t=e.toString("utf-8");else if(0==e.indexOf("data:"))t=atob(e.slice(e.indexOf(",")+1));else if(e.indexOf("<svg")>=0)t=e;else{url.parse(e).protocol||(e="file://"+e),n=!0}n?fabric.loadSVGFromURL(e,o):fabric.loadSVGFromString(t,o)}module.exports=svg2img;
//# sourceMappingURL=/sm/2bbece398d25a6d30504e11653d176b9fe2d3d043baa3b261fa6f99e880e75cf.map